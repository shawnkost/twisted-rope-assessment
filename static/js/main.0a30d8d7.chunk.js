(this["webpackJsonptwisted-rope-assessment"]=this["webpackJsonptwisted-rope-assessment"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(8),a=n.n(s),r=n(7),i=n(2),l=(n(14),n.p+"static/media/8ball.ce434eb1.png"),o=n(6),j=n.n(o),u=n(9),b=n(0);function d(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),o=l[0],d=l[1],h=function(){var t=Object(u.a)(j.a.mark((function t(n){var c,r,i,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),d(""),"?"!==s.substr(-1)){t.next=23;break}return t.prev=3,e.loading(!0),c=encodeURIComponent("".concat(s)),r="https://8ball.delegator.com/magic/JSON/"+c,t.next=9,fetch(r);case 9:return i=t.sent,t.next=12,i.json();case 12:l=t.sent,e.results(l.magic),e.loading(!1),a(""),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3),d("The request failed");case 21:t.next=24;break;case 23:d("You need to include a question mark at the end of your question");case 24:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("form",{onSubmit:h,"data-testid":"form",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("label",{htmlFor:"question",children:Object(b.jsx)("input",{type:"text",id:"question",placeholder:"What is your question?",className:"text-center font-20",onChange:function(e){a(e.target.value)},value:s,required:!0})}),o&&Object(b.jsxs)("div",{className:"err font-20",children:[" ",o," "]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",className:"font-20",children:"Ask the Magic 8-Ball"})})]})})}function h(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"modal font-20",children:[Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Question"}),Object(b.jsx)("th",{children:"Answer"})]})}),Object(b.jsx)("tbody",{children:function(){if(e.allResults)return e.allResults.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"table-question",children:e.question}),Object(b.jsx)("td",{className:"table-answer",children:e.answer})]},t)}))}()})]}),Object(b.jsx)("div",{children:e.allResults.length>0&&Object(b.jsx)("button",{className:"font-20",onClick:function(){e.clear()},children:"Clear Responses"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"font-20",onClick:function(){e.toggle()},children:"Exit"})})]})})}var O=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),o=Object(i.a)(a,2),j=o[0],u=o[1],O=Object(c.useState)([]),x=Object(i.a)(O,2),f=x[0],m=x[1],p=Object(c.useState)(!1),g=Object(i.a)(p,2),v=g[0],N=g[1],k=function(){N(!v)};return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"font-60",children:"Magic 8-Ball"}),Object(b.jsx)("div",{className:"eight-ball-container",children:Object(b.jsx)("img",{src:l,alt:"magic 8-ball",className:n?"shake eight-ball-img":"eight-ball-img"})}),Object(b.jsx)("div",{className:"font-20 answer",children:j}),Object(b.jsx)(d,{results:function(e){(u(e.answer),f.length<=9)?m((function(t){return[e].concat(Object(r.a)(t))})):(f.pop(),m((function(t){return[e].concat(Object(r.a)(t))})))},loading:function(e){s(e)}}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:k,className:"font-20",children:"View previous results"}),v&&Object(b.jsx)(h,{toggle:k,allResults:f,clear:function(){m([])}})]})]})};a.a.render(Object(b.jsx)(O,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.0a30d8d7.chunk.js.map